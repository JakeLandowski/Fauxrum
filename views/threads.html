<include href="./views/includes/header.html" />

<div class="pl-5">
    <a href="{{ @BASE }}/new-thread" class="btn btn-primary ml-5">Create New Thread</a>
</div>
    <div class="container">
        <check if="{{ isset(@threads) }}">

            <true>
                <repeat group="{{ @threads }}" key="{{ @i }}" value="{{ @thread }}">
                
                    <a href="{{ @BASE }}/posts/{{ @thread->getValue('id') }}" class="row thread p-3 mb-3">
                        <div class="col-12 col-md-4 p-0 text-justify">
                            <h5>{{ @thread->displayValue('title') }}</h5>
                        </div>
                        <div class="col-12 col-md-3 p-0 text-center">
                            <p><i class="fa fa-user"></i>&nbsp;{{ @thread->displayValue('owner_name') }}</p>
                        </div>
                        <div class="col-12 col-md-1 p-0 text-center">
                            <p><i class="fa fa-eye"></i>&nbsp;{{ @thread->displayValue('views') }}</p>
                        </div>
                        <div class="col-12 col-md-1 p-0 text-center">
                            <p><i class="fa fa-comment"></i>&nbsp;{{ @thread->displayValue('replies') }}</p>
                        </div>
                        
                        <!-- <div class="col-12 col-md-6">
                            <p><i class="fa fa-clock"></i>&nbsp;{{ TimeCalculate::getTimeSinceCreation(@thread->displayValue('created')) }}</p>
                        </div> -->

                        <div class="col-12 col-md-3 p-0 text-right">
                            <p>{{ TimeCalculate::getTimeSinceCreation(@thread->displayValue('last_reply')) }}</p>
                        </div>
                    </a>
                
                </repeat>
                
                <include href="./views/includes/pagination.html" />
            </true>

            <false>
                <p class="error-text m-0">
                    {{ isset(@fail_message) ? @fail_message : ''}}
                </p>
            </false>

        </check>
    </div>

<include href="./views/includes/footer.html" />