<include href="./views/includes/header.html" />

<style>
    h2
    {
        text-align: center;
    }
    .error
    {
        border: 1px solid red;
    }

    .error-text
    {
        color: red;
    }
</style>
<h2>Create Post</h2>
<br>

<form action="{{ @BASE }}/new-post/{{ @thread_id }}/{{ @post_id }}" method="POST">

    <div class="form-group">
        <p class="error-text m-0">
            {{ isset(@errors['content']) ? @errors['content'] : ''}}
            {{ isset(@fail_message) ? @fail_message : ''}}
        </p>
        <textarea class="form-control {{ isset(@errors['content']) ? 'error' : ''}}" 
                  id="content"
                  name="content"
                  rows="5"
        >[quote]{{ preg_replace('/\[quote\]|\[\/quote\]/', '', isset(@quoted_post) ? @quoted_post->displayValue('content') : '') }}[/quote]{{ 
            isset(@content) ? @content : '' }}</textarea>
    </div>

    <input type="submit" value="Create Post" class="btn btn-primary" />

</form>

<include href="./views/includes/footer.html" />